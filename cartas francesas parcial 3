#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#define NUM_CARTAS 52
#define NUM_PALOS 4

// Estructura para una carta
typedef struct {
    char *palo;
    char *valor;
} Carta;

// Estructura para el mazo
typedef struct {
    Carta cartas[NUM_CARTAS];
} Mazo;

// Funci贸n para crear el mazo con los 52 naipes
void crearMazo(Mazo *mazo) {
    char *palos[] = {"Corazones", "Diamantes", "Treboles", "Picas"};
    char *valores[] = {"As", "2", "3", "4", "5", "6", "7", "8", "9", "10", "Jota", "Reina", "Rey"};

    int i = 0;
    for (int p = 0; p < NUM_PALOS; p++) {
        for (int v = 0; v < 13; v++) {
            mazo->cartas[i].palo = palos[p];
            mazo->cartas[i].valor = valores[v];
            i++;
        }
    }
}

// Funci贸n para barajar el mazo aleatoriamente
void barajarMazo(Mazo *mazo) {
    srand(time(NULL));
    for (int i = NUM_CARTAS - 1; i > 0; i--) {
        int j = rand() % (i + 1);
        Carta temp = mazo->cartas[i];
        mazo->cartas[i] = mazo->cartas[j];
        mazo->cartas[j] = temp;
    }
}

// Funci贸n para mostrar todas las cartas del mazo
void mostrarMazo(Mazo *mazo) {
    for (int i = 0; i < NUM_CARTAS; i++) {
        printf("%s de %s\n", mazo->cartas[i].valor, mazo->cartas[i].palo);
    }
}

// Funci贸n para distribuir las cartas en n manos
void repartirCartas(Mazo *mazo, int numManos) {
    if (numManos <= 0 || numManos > NUM_CARTAS) {
        printf("Numero de manos invalido. Debe ser un valor entre 1 y 52.\n");
        return;
    }

    printf("\nRepartiendo %d cartas entre %d manos:\n", NUM_CARTAS, numManos);
    for (int i = 0; i < NUM_CARTAS; i++) {
        int manoActual = i % numManos;
        printf("Mano %d: %s de %s\n", manoActual + 1, mazo->cartas[i].valor, mazo->cartas[i].palo);
    }
}

int main() {
    Mazo miMazo;
    int numManos;

    // 1. Crear el mazo
    crearMazo(&miMazo);
    printf("--- Mazo original ---\n");
    mostrarMazo(&miMazo);

    // 2. Barajar el mazo
    barajarMazo(&miMazo);
    printf("\n--- Mazo barajado ---\n");
    mostrarMazo(&miMazo);

    // 3. Repartir las cartas
    printf("\nIngrese el numero de manos para repartir: ");
    scanf("%d", &numManos);
    repartirCartas(&miMazo, numManos);

    return 0;
}
